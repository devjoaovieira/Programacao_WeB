/* ============================================= */
/* OBJETIVO: Estrutura principal e grid system   */
/* ============================================= */

/* ---------------------------------- */
/* 1. ESTRUTURA PRINCIPAL (Sticky Footer) */
/* ---------------------------------- */
body {
    display: grid;
    grid-template-rows: auto 1fr auto; 
    min-height: 100vh;
}
main {
    padding-top: var(--espaco-gg);    /* 48px */
    padding-bottom: var(--espaco-gg); /* 48px */
}

/* ---------------------------------- */
/* 2. CABEÇALHO (HEADER)              */
/* ---------------------------------- */
header {
    background-color: var(--cor-primaria-escura);
    color: var(--cor-fundo);
    padding: var(--espaco-p) 0; /* 16px */
    border-bottom: 4px solid var(--cor-secundaria);
    position: relative; /* Adicionado para posicionar o menu toggle */
}

/* ---------------------------------- */
/* 3. RODAPÉ (FOOTER)                 */
/* ---------------------------------- */
footer {
    background-color: var(--cor-texto-principal);
    color: var(--cor-fundo-alternativa);
    padding: var(--espaco-g) 0; /* 32px */
    text-align: center;
}
footer p {
    margin-bottom: var(--espaco-pp); /* 8px */
    font-size: var(--fonte-tamanho-pp); /* 14px */
}

/* ---------------------------------- */
/* 4. SISTEMA DE GRID (12 COLUNAS)    */
/* ---------------------------------- */
.container {
    width: 90%;         /* Mobile */
    margin-left: auto;
    margin-right: auto;
    max-width: 1200px;  /* Desktop */
}
.row {
    display: flex;
    flex-wrap: wrap;
    margin-left: calc(-1 * var(--espaco-p));  /* -16px */
    margin-right: calc(-1 * var(--espaco-p)); /* -16px */
}
/* Mobile First: Colunas empilhadas */
[class^="col-"] {
    width: 100%;
    padding-left: var(--espaco-p);  /* 16px */
    padding-right: var(--espaco-p); /* 16px */
    margin-bottom: var(--espaco-p); 
}

/* ============================================= */
/* 5. NAVEGAÇÃO PRINCIPAL (HEADER NAV) - BASE    */
/* ============================================= */

/* Esconde a lista de links por padrão (Mobile-First) */
header nav ul {
    list-style: none; 
    padding: 0;
    margin: 0;
    display: none; /* ESCONDIDO POR PADRÃO */
}

/* Mostra a lista quando a classe .menu-aberto for adicionada (via JS) */
header nav.menu-aberto ul {
    display: block;
    /* Estilos do menu mobile ABERTO */
    position: absolute;
    top: 100%; /* Começa logo abaixo do header */
    left: 0;
    width: 100%;
    background-color: var(--cor-primaria-escura);
    padding: var(--espaco-p) 0;
    z-index: 1000; 
    border-top: 2px solid var(--cor-secundaria); /* Separador visual */
}

/* Estilo dos itens da lista no mobile (vertical) */
header nav.menu-aberto li {
    text-align: center;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}
header nav.menu-aberto li:last-child {
    border-bottom: none;
}

/* Estilo dos links no mobile (quando menu aberto) */
header nav.menu-aberto a {
    display: block;
    padding: var(--espaco-p); /* 16px */
    color: var(--cor-fundo);
    text-decoration: none;
    font-weight: var(--fonte-peso-negrito);
    transition: background-color 0.3s ease;
}
header nav.menu-aberto a:hover, 
header nav.menu-aberto a:focus {
    background-color: var(--cor-primaria);
    text-decoration: none;
}

/* --- Botão Hambúrguer (Ícone) --- */
.menu-toggle {
    display: block; /* Visível no mobile */
    background: none;
    border: none;
    color: var(--cor-fundo);
    font-size: 1.8rem;
    cursor: pointer;
    padding: 0;
    position: absolute;
    right: var(--espaco-p); /* 16px da direita */
    top: 50%; /* Centraliza verticalmente */
    transform: translateY(-50%); /* Ajuste fino vertical */
}

/* --- Esconde o Submenu por Padrão (Mobile First) --- */
header nav ul.submenu {
    display: none; 
    position: static; 
    background-color: transparent;
    border: none;
    box-shadow: none;
    padding: 0;
    margin-left: var(--espaco-p); 
}
header nav ul.submenu li {
    width: 100%;
}
header nav ul.submenu a {
     padding: var(--espaco-pp) var(--espaco-p); 
     font-weight: var(--fonte-peso-regular);
     background-color: rgba(0,0,0,0.1); 
}

/* ============================================= */
/* 6. RESPONSIVIDADE E GRID SYSTEM (BREAKPOINTS) */
/* ============================================= */

/* --- BREAKPOINT XS (Extra Small) --- */
@media (min-width: 480px) {
    /* (Nada específico para XS por enquanto) */
}

/* --- BREAKPOINT SM (Small / Tablet Retrato) --- */
@media (min-width: 768px) {
    .container { width: 85%; }
    .col-sm-1 { width: 8.333333%; }
    .col-sm-2 { width: 16.666667%; }
    .col-sm-3 { width: 25%; }
    .col-sm-4 { width: 33.333333%; }
    .col-sm-5 { width: 41.666667%; }
    .col-sm-6 { width: 50%; }
    .col-sm-7 { width: 58.333333%; }
    .col-sm-8 { width: 66.666667%; }
    .col-sm-9 { width: 75%; }
    .col-sm-10 { width: 83.333333%; }
    .col-sm-11 { width: 91.666667%; }
    .col-sm-12 { width: 100%; }
    
    .row > [class^="col-"] { margin-bottom: var(--espaco-g); } /* Volta margem p/ tablet */
    /* .row { margin-bottom: 0; }  Remove margem extra da row */
}

/* --- BREAKPOINT MD (Medium / Tablet Paisagem / Laptop Pequeno) --- */
/* Telas a partir de 992px - ONDE O MENU DESKTOP APARECE */
@media (min-width: 992px) {
    .container { width: 80%; }
    .col-md-1 { width: 8.333333%; }
    .col-md-2 { width: 16.666667%; }
    .col-md-3 { width: 25%; }
    .col-md-4 { width: 33.333333%; }
    .col-md-5 { width: 41.666667%; }
    .col-md-6 { width: 50%; }
    .col-md-7 { width: 58.333333%; }
    .col-md-8 { width: 66.666667%; }
    .col-md-9 { width: 75%; }
    .col-md-10 { width: 83.333333%; }
    .col-md-11 { width: 91.666667%; }
    .col-md-12 { width: 100%; }

    /* Remove a margem inferior das colunas no desktop */
     .row > [class^="col-"] { margin-bottom: 0; } 
     .row { margin-bottom: var(--espaco-g); } /* Espaço entre rows */

    /* --- ESTILOS DO MENU DESKTOP --- */
    /* Esconde o botão hambúrguer */
    .menu-toggle { display: none; }
    
    /* Alinha H1 e NAV */
    header .container {
        display: flex;
        justify-content: space-between; 
        align-items: center;
    }
    
    /* Mostra e horizontaliza a lista principal */
    header nav > ul {
        display: flex !important; /* !important para sobrescrever o JS se necessário */
        position: static; 
        width: auto;
        background-color: transparent;
        padding: 0;
        border-top: none; /* Remove borda do menu mobile aberto */
    }
    
    /* Remove estilos mobile dos itens */
    header nav li {
        border-bottom: none;
        margin-left: var(--espaco-m); 
        text-align: left; /* Garante alinhamento padrão */
    }
    
    /* Ajusta links do menu principal */
    header nav > ul > li > a { /* Seletor mais específico */
        padding: var(--espaco-pp) 0; 
        color: var(--cor-fundo);
        font-weight: var(--fonte-peso-regular);
        position: relative; 
        display: inline-block; /* Garante que padding funcione bem */
    }
    header nav > ul > li > a:hover, 
    header nav > ul > li > a:focus {
        background-color: transparent;
        color: var(--cor-secundaria);
        text-decoration: none;
    }

    /* --- ESTILOS DO SUBMENU DROPDOWN --- */
    header nav li.menu-item-com-submenu {
        position: relative; 
    }
    header nav ul.submenu {
        /* RE-DEFINE OS ESTILOS PARA DESKTOP */
        display: none; 
        position: absolute; 
        left: 0;
        top: 100%; 
        background-color: var(--cor-primaria-escura); 
        border-top: 2px solid var(--cor-secundaria);
        padding: var(--espaco-pp) 0; 
        min-width: 200px; 
        z-index: 1001; 
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        border-radius: 0 0 4px 4px; 
        margin-left: 0; /* Remove a indentação mobile */
    }
    header nav li.menu-item-com-submenu:hover > ul.submenu {
        display: block; /* Mostra no hover */
    }
    header nav ul.submenu li {
        width: 100%;
        margin-left: 0; /* Garante sem margem */
    }
    header nav ul.submenu a {
        padding: var(--espaco-pp) var(--espaco-p); 
        color: var(--cor-fundo);
        display: block; 
        white-space: nowrap; 
        background-color: transparent; /* Remove o fundo mobile */
        font-weight: var(--fonte-peso-regular); 
    }
    header nav ul.submenu a:hover,
    header nav ul.submenu a:focus {
        background-color: var(--cor-primaria);
        color: var(--cor-fundo);
    }
} /* <<< FIM DA @media (min-width: 992px) */

/* --- BREAKPOINT LG (Large / Desktop) --- */
@media (min-width: 1200px) {
    /* (Container já está limitado a 1200px) */
    .col-lg-1 { width: 8.333333%; }
    .col-lg-2 { width: 16.666667%; }
    .col-lg-3 { width: 25%; }
    .col-lg-4 { width: 33.333333%; }
    .col-lg-5 { width: 41.666667%; }
    .col-lg-6 { width: 50%; }
    .col-lg-7 { width: 58.333333%; }
    .col-lg-8 { width: 66.666667%; }
    .col-lg-9 { width: 75%; }
    .col-lg-10 { width: 83.333333%; }
    .col-lg-11 { width: 91.666667%; }
    .col-lg-12 { width: 100%; }
}

/* --- Correção de Contraste para o Logo/Título no Header --- */
header h1 a {
    color: var(--cor-fundo); /* Define a cor do link como branco */
    text-decoration: none; /* Remove sublinhado padrão do link */
}

/* Opcional: Estilo hover específico para o logo, se desejar */
header h1 a:hover,
header h1 a:focus {
    color: var(--cor-secundaria); /* Muda para laranja no hover/focus */
    text-decoration: none; /* Mantém sem sublinhado */
}

/* ============================================= */
/* 7. BOTÃO DE TEMA (MODO ESCURO)                */
/* ============================================= */

/* Estilo para o <li> que contém o botão */
header nav li.li-theme-toggle {
    border-bottom: none;
    margin-left: var(--espaco-m); /* Mesmo espaçamento dos outros itens de menu */
}

/* Estilo para o botão de tema (para parecer um link de menu) */
#theme-toggle {
    /* 1. Remove aparência de botão */
    background: transparent;
    border: none;
    cursor: pointer;
    
    /* 2. Aplica o mesmo estilo dos links do menu (copiado de 'header nav a') */
    font-family: var(--fonte-familia-principal); /* Garante a mesma fonte */
    font-size: var(--fonte-tamanho-p); /* Garante o mesmo tamanho */
    padding: var(--espaco-pp) 0; 
    color: var(--cor-fundo);
    font-weight: var(--fonte-peso-regular);
    position: relative; 
    display: inline-block; 
    transition: color 0.3s ease; /* Transição de cor */
}

/* 3. Aplica o mesmo estado :hover dos links do menu */
#theme-toggle:hover, 
#theme-toggle:focus {
    background-color: transparent;
    color: var(--cor-secundaria); /* Fica laranja no hover */
    text-decoration: none;
    outline: none; /* Remove outline de foco do botão */
}

/* 4. Estilo no Modo Escuro (para parecer um link) */
body.dark-mode #theme-toggle {
    color: var(--dm-cor-texto-principal);
}
body.dark-mode #theme-toggle:hover,
body.dark-mode #theme-toggle:focus {
    color: var(--cor-secundaria);
}

/* 5. Estilo no Menu Mobile */
@media (max-width: 991px) {
    header nav li.li-theme-toggle {
        margin-left: 0;
        text-align: center;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    #theme-toggle {
        /* Para parecer um link de menu mobile */
        display: block;
        width: 100%;
        padding: var(--espaco-p); /* Mesmo padding dos outros links mobile */
        color: var(--cor-fundo);
        font-weight: var(--fonte-peso-negrito);
    }
    #theme-toggle:hover,
    #theme-toggle:focus {
        background-color: var(--cor-primaria); /* Mesmo hover dos links mobile */
        color: var(--cor-fundo);
    }
    
    /* Cor no modo escuro mobile */
    body.dark-mode #theme-toggle {
        color: var(--dm-cor-texto-principal);
    }
     body.dark-mode #theme-toggle:hover,
     body.dark-mode #theme-toggle:focus {
        background-color: var(--cor-primaria-clara);
    }
}